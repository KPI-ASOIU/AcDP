<section class="ui piled segment">
  <h1><%= t('documents.documents') %></h1>
  <section class="ui divided grid">
    <div class="four wide column">
      <div class="ui fluid vertical menu">
        <a class="active teal item">
          <%= t('documents.recently_used') %>
          <div class="ui teal label">1</div>
        </a>
        <a class="item">
          <%= t('documents.yours') %>
          <div class="ui label">1</div>
        </a>
        <a class="item">
          <%= t('documents.shared') %>
          <div class="ui label">51</div>
        </a>
        <a class="item">
          <%= t('documents.by_type') %>
          <div class="ui label">1</div>
        </a>
        <div class="item">
          <div class="ui small icon input">
            <input placeholder="<%= t('documents.search_by_docs') %>..." type="text">
            <i class="search icon"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="twelve wide column">
      <table id="docs" class="ui sortable table segment">
        <thead>
          <tr>
            <th><%= t('documents.title') %></th>
            <th><%= t('documents.type') %></th>
            <th><%= t('documents.format') %></th>
            <th><%= t('documents.date_created') %></th>
            <th><%= t('documents.date_changed') %></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>John</td>
            <td>No Action</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
          </tr>
          <tr>
            <td>Jamie</td>
            <td class="positive">Approved</td>
            <td class="warning">Requires call</td>
            <td>None</td>
            <td>None</td>
          </tr>
          <tr>
            <td>Jill</td>
            <td class="negative">Denied</td>
            <td>None</td>
            <td>None</td>
            <td>None</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
</section>

<%= render 'documents/modals/document_select' %>
<%= render 'documents/modals/new_file' %>
<%= render 'documents/modals/new_folder' %>
<%= render 'documents/modals/confirm_remove' %>
<%= render 'documents/modals/search_user' %>
<%= render 'documents/modals/search_type' %>

<%= render 'search' %>
<%= render 'folder_info' if !@current_folder.nil? %>

<div class="text-center">
<% if !@shared || @can_edit_current_folder %>
  <%= link_to '', :data => { :toggle => 'modal', :target => '#modal_add_file' }, :class => 'btn btn-success' do %>
      <span class='glyphicon glyphicon-cloud-upload'></span>
      <%= t('documents.add_doc') %>
  <% end %>

  <%= link_to '', :data => { :toggle => 'modal', :target => '#modal_add_folder' }, :class => 'btn btn-success' do %>
      <span class='glyphicon glyphicon-cloud-upload'></span>
      <%= t('documents.add_folder') %>
  <% end %>

  <%= link_to '/documents/shared', :class => 'btn btn-info' do %>
      <span class='glyphicon glyphicon-retweet'></span>
      <%= t('documents.shared_docs') %>
  <% end %>
<% else %>
    <%= link_to '/documents', :class => 'btn btn-info' do %>
        <span class='glyphicon glyphicon-user'></span>
        <%= t('documents.owned_docs') %>
    <% end %>
<% end %>
</div>

<br>

<div class="panel panel-primary">
  <div class="panel-heading">
    <%= t('documents.docs_in_cur_dir') %>
    <% if !@current_folder.nil? %>
        <%= link_to @current_folder.parent_directory.nil? ? documents_path : document_path(@current_folder.parent_directory), :class => 'btn-sm btn-success docs-up-folder-btn' do %>
            <span class='glyphicon glyphicon-upload'></span>
            <%= t('documents.up_folder') %>
        <% end %>
    <% end %>
  </div>
    <table id="documents-table" class="table table-striped table-verticle-centered" style="table-layout:fixed;">
      <thead>
      <tr>
        <th style="width: 3%"></th>
        <th style="width: 27%"><%= t('documents.title') %></th>
        <th style="width: 25%"><%= t('documents.type') %></th>
        <th style="width: 8%"><%= t('documents.format') %></th>
        <th style="width: 10%"><%= t('documents.date_created') %></th>
        <th style="width: 10%"><%= t('documents.date_changed') %></th>
        <th style="width: 11%"></th>
      </tr>
      </thead>

      <tbody>
        <%= render partial: 'file', collection: @files %>
        <%= render partial: 'folder', collection: @folders %>
      </tbody>
    </table>
</div>

<div class="panel-body text-center">
  <%= paginate @docs %>
</div>