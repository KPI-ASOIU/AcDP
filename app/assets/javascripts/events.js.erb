//= require ./datetimepicker
//= require ./pin_docs

$(document).ready(function() {
  $('#eventSearch #searchBtn').on('click', function(e) { 
    $('#extendSearch').submit(); 
  });

  $('#canVisit').click(function(e){
    $.ajax({
      type: 'GET',
      url: e.target.getAttribute('data-url'),
      data: { 'can_visit' : e.target.getAttribute('data-visit') == 'true' },
      success: function() {
        var canVisit = $('#canVisit'),
            visit = !(canVisit.attr('data-visit') == 'true');
        canVisit.attr('data-visit', visit);
      },
      error: function() {
        alert('Cannot update your status due to server error! Please contact administrator')
      }
    })
  });
}());